<div class="panel panel-default">
    <div class="panel-body">
      <form action="api/signup"  enctype="multipart/form-data" id="showDataForm" onsubmit="return saveReport();"  method="post">
          <div id="show_info"></div>
          <ul>
              <li>
                  用户名
                  <input type="text" id="username" name="username" class="form-control" placeholder="请输入用户名"/>
              </li>
              <li>
                  密码
                  <input type="password" id="userpsw" name="userpsw" class="form-control"  placeholder="请输入密码" />
              </li>
              <li>
                  重复密码
                  <input type="password" id="reuserpsw" name="reuserpsw" class="form-control"  placeholder="请输入密码" />
              </li>
              <li>
                  性别
                  <select id="sex" name="sex">
                      <option value="男">男</option>
                      <option value="女">女</option>
                  </select>
              </li>
              <li>
                  头像
                  <input type="file" name="avatar" id="avatar"/>
              </li>
              <li>
                  个人简介（可选）
                  <textarea id="explain" name="explain" cols="30" rows="10"></textarea>
              </li>
          </ul>
          <input id="signup" type="submit" class="btn" value="注册" />
      </form>
      <!-- <div id="test_tit"></div>
      <img src="" id="test" alt=""> -->
    </div>
</div>
<script src="/js/jquery.form.js"></script>
<script>
 function saveReport() {
    // jquery 表单提交
    $("#showDataForm").ajaxSubmit(function(message) {
    // 对于表单提交成功后处理，message为提交页面saveReport.htm的返回内容
      console.log(message)
      // $('#test_tit').text("你的头像为：")
      // $("#test").attr('src',message.userinfo.avatar)
      if(message.code!=0){
        $('#show_info').text(message.message).css("color","red")
      }else{
        window.location.href = '/signin'
      }
    });

    return false; // 必须返回false，否则表单会自己再做一次提交操作，并且页面跳转
  }
</script>
